(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{52832:function(e,s,a){Promise.resolve().then(a.bind(a,83742))},83742:function(e,s,a){"use strict";a.d(s,{default:function(){return y}});var t=a(57437),l=a(2265),r=a(16325),c=a(92095),i=a(14172),d=a(93669),n=a(72643),x=a(81359),o=a(49421),m=a(31338),h=a(47625),j=a(58336),N=a(56940),u=a(97059),f=a(62994),p=a(8147),v=a(54061);function g(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Erro ao carregar estat\xedsticas:",e)}finally{r(!1)}};return a?(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"card animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-600 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-8 bg-gray-600 rounded w-1/2"})]},s))}):e?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total de Relat\xf3rios"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalReports})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-500/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.Z,{className:"w-6 h-6 text-primary-500"})})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Este M\xeas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.reportsThisMonth})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-accent-500/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(x.Z,{className:"w-6 h-6 text-accent-500"})})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Score M\xe9dio"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-white",children:[e.averageScore,"%"]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.Z,{className:"w-6 h-6 text-green-500"})})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Empresas Analisadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalReports})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(m.Z,{className:"w-6 h-6 text-blue-500"})})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Relat\xf3rios por M\xeas"}),(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(h.h,{width:"100%",height:"100%",children:(0,t.jsxs)(j.w,{data:e.monthlyReports,children:[(0,t.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,t.jsx)(u.K,{dataKey:"month",stroke:"#9CA3AF"}),(0,t.jsx)(f.B,{stroke:"#9CA3AF"}),(0,t.jsx)(p.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,t.jsx)(v.x,{type:"monotone",dataKey:"count",stroke:"#1B3F8B",strokeWidth:2,dot:{fill:"#1B3F8B",strokeWidth:2,r:4}})]})})})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Ind\xfastrias"}),(0,t.jsx)("div",{className:"space-y-3",children:e.topIndustries.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-gray-300",children:e.name}),(0,t.jsx)("span",{className:"text-white font-semibold",children:e.count})]},e.name))})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Atividade Recente"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-gray-300",children:"Relat\xf3rio gerado - Empresa ABC"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"text-gray-300",children:"An\xe1lise SWOT conclu\xedda"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-accent-500 rounded-full"}),(0,t.jsx)("span",{className:"text-gray-300",children:"Exporta\xe7\xe3o PDF realizada"})]})]})]})]})]}):(0,t.jsx)("div",{className:"text-center text-gray-400",children:"Erro ao carregar estat\xedsticas"})}function b(){let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{fetch("/api/reports").then(e=>e.json()).then(e=>s(e.reports||[])).finally(()=>r(!1))},[]),a)?(0,t.jsx)("div",{children:"Carregando relat\xf3rios..."}):e.length?(0,t.jsxs)("div",{className:"card mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Relat\xf3rios Recentes"}),(0,t.jsx)("ul",{className:"divide-y divide-surface-700",children:e.map(e=>(0,t.jsxs)("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"font-semibold",children:e.companyName})," â€” ",e.cnpj]}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleString()})]},e._id))})]}):(0,t.jsx)("div",{children:"Nenhum relat\xf3rio recente."})}function y(){let[e,s]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0);(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{n(!1)}catch(e){console.error("Erro ao carregar relat\xf3rios:",e),n(!1)}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-on-surface mb-2",children:"Dashboard STRATEVO"}),(0,t.jsx)("p",{className:"text-on-surface/70",children:"Bem-vindo de volta! Aqui est\xe1 sua vis\xe3o geral de intelig\xeancia de neg\xf3cios."})]}),(0,t.jsx)(g,{}),(0,t.jsx)(b,{}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"card cursor-pointer hover:shadow-gold transition-all",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(r.Z,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Novo Relat\xf3rio"}),(0,t.jsx)("p",{className:"text-sm text-on-surface/70",children:"Analisar empresa"})]})]})}),(0,t.jsx)("div",{className:"card cursor-pointer hover:shadow-gold transition-all",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(c.Z,{className:"w-6 h-6 text-accent"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Exportar Dados"}),(0,t.jsx)("p",{className:"text-sm text-on-surface/70",children:"PDF, Excel, CSV"})]})]})}),(0,t.jsx)("div",{className:"card cursor-pointer hover:shadow-gold transition-all",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.Z,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Compartilhar"}),(0,t.jsx)("p",{className:"text-sm text-on-surface/70",children:"Relat\xf3rios em equipe"})]})]})}),(0,t.jsx)("div",{className:"card cursor-pointer hover:shadow-gold transition-all",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d.Z,{className:"w-6 h-6 text-accent"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Filtros Avan\xe7ados"}),(0,t.jsx)("p",{className:"text-sm text-on-surface/70",children:"Busca personalizada"})]})]})})]})]})}}},function(e){e.O(0,[876,971,117,744],function(){return e(e.s=52832)}),_N_E=e.O()}]);